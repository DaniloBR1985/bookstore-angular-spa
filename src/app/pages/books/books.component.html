<div class="book-container">
  <h2>Gerenciar Livros</h2>

  <form (ngSubmit)="save()" class="livro-form">
    <input type="text"
           name="title"
           [(ngModel)]="book.title"
           placeholder="Título do Livro"
           required />

    <select name="genreId" [(ngModel)]="book.genreId" required>
      <option value="" disabled>Selecione o Gênero</option>
      <option *ngFor="let g of genres" [value]="g.id">{{ g.name }}</option>
    </select>

    <select name="authorId" [(ngModel)]="book.authorId" required>
      <option value="" disabled>Selecione o Autor</option>
      <option *ngFor="let a of authors" [value]="a.id">{{ a.name }}</option>
    </select>

    <button type="submit">{{ isEdit ? 'Atualizar' : 'Salvar' }}</button>
    <button type="button" *ngIf="isEdit" (click)="resetForm()">Cancelar</button>
  </form>

  <ul class="book-list">
    <li *ngFor="let l of books">
      {{ l.title }} (Gênero: {{ l.genreName }}, Author: {{ l.authorName }})
      <button (click)="edit(l)">Editar</button>
      <button (click)="delete(l.id!)">Excluir</button>
    </li>
  </ul>
</div>
